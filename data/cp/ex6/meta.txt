Здесь попробуем смоделировать реальную задачу распараллеливания:

===

Постановка задачи:

В первой строчке файла input.txt находится натуральное число N.
В следующей строчке находится N натуральных чисел в пределе от 1 до 3000.
Нужно отсортировать эти числа и записать результат в файл output.txt.

===

(input.txt и output.txt должны находится в рабочей директории!!!)

введем мьютекс, ответственный за файл input.txt: "input_mutex"

запустим 3 джобы, владеющие этим мьютексом на входной файл, чтобы они считали 1 джоба - все числа меньше 1000, 2 джоба - все числа между 1000 и 2000,
3 джоба - числа больше 2000. Они запихнут их в отдельные файлы temp1.txt, temp2.txt и temp3.txt

далее запустим 3 джобы, которые зависят от предыдущих на сортировку файлов temp1.txt, temp2.txt, temp3.txt

далее запустим джобу, зависящую от прошлых 3, которая соберет по трем файлам числа и соединит их в одну последовательность, а потом запишет в файл
output.txt.